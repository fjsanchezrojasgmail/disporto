<form *ngIf="establishmentForm" [formGroup]="establishmentForm" (ngSubmit)="onSubmit()">
    <div class="flex flex-column h-full p-2 m-4">
        <span class="font-semibold uppercase p-2">{{ title | translate }}</span>
        <div class="flex" style="z-index: 5;">
            <div class="flex flex-column p-2">
                <label for="code">
                    {{ 'establishment.label.code' | translate }}
                </label>
                <div class="h-1rem"><small *ngIf="required('code')" class="p-error"> {{ 'dropdown.missing_error' |
                        translate}} </small></div>
                <input id="code" pInputText type="text" formControlName="code" class="w-full">
            </div>
            <div class="flex flex-column p-2">
                <label for="typeStablishment">{{ 'establishment.label.type' | translate }}</label>
                <div class="h-1rem"><small *ngIf="required('typeStablishment')" class="p-error"> {{
                        'dropdown.missing_error' | translate}} </small></div>
                <p-dropdown id="typeStablishment" [options]="types" class="w-full"
                    [placeholder]="'dropdown.default_placeholder' | translate" optionLabel="description"
                    optionValue="code" formControlName="typeStablishment">
                </p-dropdown>
            </div>
            <div class="flex flex-column p-2">
                <label for="centerName">
                    {{ 'establishment.label.center_name' | translate }}
                </label>
                <div class="h-1rem"><small *ngIf="required('centerName')" class="p-error"> {{ 'dropdown.missing_error' |
                        translate}} </small></div>
                <input id="centerName" pInputText type="text" formControlName="centerName" class="w-full">
            </div>
        </div>
        <div class="flex" style="z-index: 4;">
            <div class="flex flex-column p-2">
                <label for="typeProduct">{{ 'establishment.label.product_type' | translate }}</label>
                <div class="h-1rem"><small *ngIf="required('typeProduct')" class="p-error"> {{ 'dropdown.missing_error'
                        | translate}} </small></div>
                <p-dropdown id="typeProduct" [options]="productTypes" class="w-full"
                    [placeholder]="'dropdown.default_placeholder' | translate" optionLabel="description"
                    optionValue="code" formControlName="typeProduct">
                </p-dropdown>
            </div>
            <div class="flex flex-column p-2">
                <label for="billingType">{{ 'establishment.label.billing_type' | translate }}</label>
                <div class="h-1rem"><small *ngIf="required('billingType')" class="p-error"> {{ 'dropdown.missing_error'
                        | translate}} </small></div>
                <p-dropdown id="billingType" [options]="billingTypes" class="w-full"
                    [placeholder]="'dropdown.default_placeholder' | translate" optionLabel="description"
                    optionValue="code" formControlName="billingType">
                </p-dropdown>
            </div>
            <div class="flex flex-column p-2">
                <label for="province">{{ 'billing.filter.label.province' | translate }}</label>
                <div class="h-1rem"><small *ngIf="required('province')" class="p-error"> {{ 'dropdown.missing_error' |
                        translate}} </small></div>
                <p-dropdown id="province" [options]="provinces" class="w-full" optionLabel="description"
                    optionValue="code" [placeholder]="'dropdown.default_placeholder' | translate"
                    formControlName="province">
                </p-dropdown>
            </div>
            <div class="flex flex-column p-2">
                <label for="status">{{ 'establishment.label.dateTo' | translate }}</label>
                <div class="h-1rem"><small *ngIf="required('status')" class="p-error"> {{ 'dropdown.missing_error' |
                        translate}} </small></div>
                <p-dropdown id="state" [options]="statusOptions" class="w-full" formControlName="status">
                    <ng-template let-option pTemplate="selectedItem">
                        <span>{{ option | translate}}</span>
                    </ng-template>
                    <ng-template let-option pTemplate="item">
                        <span>{{ option | translate}}</span>
                    </ng-template>
                </p-dropdown>
            </div>
        </div>
        <div class="flex" style="z-index: 3;">
            <div class="flex flex-column p-2">
                <label for="phone">{{ 'establishment.label.phone' | translate }}</label>
                <div class="h-1rem"></div>
                <input id="phone" pInputText type="text" formControlName="phone" class="w-full">
            </div>
            <div class="flex flex-column p-2">
                <label for="address">{{ 'establishment.label.address' | translate }}</label>
                <div class="h-1rem"></div>
                <input id="address" pInputText type="text" formControlName="address" class="w-full">
            </div>
            <div class="flex flex-column p-2">
                <label for="cif">{{ 'establishment.label.cif' | translate }}</label>
                <div class="h-1rem"><small *ngIf="required('cif')" class="p-error"> {{ 'dropdown.missing_error'
                        | translate}} </small></div>
                <input id="cif" pInputText type="text" formControlName="cif" class="w-full">
            </div>
        </div>
        <button *ngIf="canConfirm" pButton type="submit" class="mt-3 align-self-center" [loading]="loading">
            {{ 'button.confirm' | translate }}
        </button>
        <div class="h-15rem"></div>
    </div>
</form>
<sacyl-confirm-modal [title]="'profesional.admin.confirm.title'" [context]="'establishment.admin.confirm.context'"
    (confirm)="completeConfirm()"></sacyl-confirm-modal>